# 7주차 미션: Next-Vote

## [🪄 결과물](https://next-vote-20th.vercel.app)

### 🩵 구현 기능

- 로그인 및 회원가입

- 투표 및 결과 조회

- CEOS 부원 정보 및 만든이들 정보 안내

- 반응형 디자인

- 에러 처리

### [🎨 디자인](https://www.figma.com/design/qsTGeBRrKWiWE04eVOTFQ9/CEOS-CupfeeDeal-Vote?node-id=38-503&t=1IXMEXa9t61ycDOq-1)

<br/>

### 🩵 느낀 점

**[송유선]** 첫 번째 과제를 하면서 애를 먹던 게 엊그제 같은데, 벌써 마지막 과제를 끝내게 되어 감회가 새롭다. 지난번 넷플릭스 과제 때 Next.js를 처음 접하면서 어느 정도 파악했다고 생각했는데, 이번에는 너무 많은 오류를 접하게 되어 당황스러웠다. 지난번에는 디자인도 간단했고, Open API를 사용하면서 고려할 사항도 많지 않았기 때문에 최대한 서버 컴포넌트를 활용해 코드를 잘 짰었다. 그러나 이번에는 조금만 복잡해지니까 익숙한 방식대로 코드를 쓰게 되었고, use client를 상당히 많은 페이지에 사용하면서 진행하게 되었다. 그 과정에서 hydration error가 너무 많이 발생했는데, 이를 하나씩 해결해 가면서 SSR과 CSR의 차이를 다시금 공부할 수 있었다. 그렇지만 지금 작성한 코드가 최선이라고는 생각되지 않아서, 더 공부해야겠다는 다짐을 하게 되었다. 그리고 이번 과제에서 우리 팀 백엔드 친구들과 처음으로 같이 작업했는데, 본격적인 프로젝트에 들어가기 전에 서로의 협업 스타일을 맞춰볼 수 있는 소중한 기회였던 것 같다. (새벽에도 연락이 정말말 잘 되는 우리 팀... 👍🏻) 아 그리고 이번 과제는 디자인을 스스로 해야 했기 때문에 급하게 피그마로 하루 만에 만들었는데, 대충 만든 탓에 레이아웃이 정확히 맞지 않거나 컴포넌트화가 제대로 되지 않은 부분이 많아서 개발할 때 애를 좀 먹었다...^^ 정말.. 디자인 파트의 중요성을 다시금 느꼈다. 그래도 이번 경험을 통해 개발이 수월해지도록 디자인을 구성하는 요령을 조금이나마 익힐 수 있었던 것 같다. 다음에도 디자인할 기회가 생긴다면, 이번보다는 더 완성도 높은 결과물을 만들 수 있을 것 같다.<br>

<br/>

**[최지원]** 이번 주차는 검색페이지에 추가적으로 무한 스크롤을 구현하는데 집중했습니다. useInfinteQuery의 구조를 먼저 이해하고 코드를 써봤지만 각 리턴값이 필수인지 아닌지, 필요하다면 어느 용도로 쓰이는지 등을 세세히 알아봐야했던 점에서 확신하고 코드를 쓰기까지 시간이 많이 걸렸습니다. 또 오픈 api를 요청하는 url에서 쿼리에 쓰이는 &와 ?의 의미를 오해하고 있어서 401, 404 등의 에러를 한참 마주하며 헤매었습니다.. ?는 존재할 수도, 안할수도 있음의 의미가 아닌 쿼리 스트링의 시작에 붙는 기호라는 점.. 그리고 쿼리들 간의 순서는 상관이 없다는 점..
useInfinteQuery를 이용한 데이터를 성공적으로 불러온 이후에는 페이지 하단에 도달했을 때 다음 페이지를 fetch 하도록 하는 과정에서 처음엔 react-infinite-scroller을 사용하려 했습니다. 하지만 loadMore에 넘겨주는 prop 부분에서 함수에 자꾸 page인자를 넘겨주어야 한다고 뜨는데, 그걸 쓸 부분이 없어서 에러를 해결하지 못했고, 관련하여 찾아본 공식 문서나 레퍼런스들이 조금 이전 자료인 점을 고려해 결국 useInview 훅을 활용하기로 했습니다. 이를 통해 isFetchingNextPage가 아니면서 hasNextPage가 존재할 때 로드를 트리거할 div 태그에 ref를 달아두고, 스크롤을 감지하는 inView에 따라 다음 페이지를 불러오는 방식으로 생각보다 간단하게 구현할 수 있었습니다. 저번 주차에는 초기 데이터를 불러오는 useEffect부분과 검색어 입력값이 발생했을 때 데이터를 불러오는 함수 구현 부분이 분리되어 있어서 무언가 비효율적이라는 생각이 들었는데, 이번 무한스크롤을 적용하면서 tanstack query의 비동기 함수 호출로써 한 번에 처리할 수 있게 되었다는 점에서 앞으로도 tanstack query를 더 알아보고 적극 이용해야겠다는 생각이 들었습니다. 또 key question을 작성하면서 알게 된 Intersection Observer API를 활용하는 방식도 어떻게 다를지 직접 활용해서 구현해보고 싶습니다.

<br/>
